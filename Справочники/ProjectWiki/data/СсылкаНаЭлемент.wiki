++ Ссылка На Элемент
[template: ШаблонКарточкиГлоссария]
Состояние: [В РАЗРАБОТКЕ]

Текстовая ссылка на Элемент - Сущность УАМХ.

+++Пространство имен
* todo.глоссарий.форма: Укажите здесь пространство имен (Namespace), к которому принадлежит сущность. Например: Движок.Подсистема Лога. Это позволит быстрее ориентироваться в большом проекте.

+++Используется в
* todo.глоссарий.форма: Перечислите здесь страницы концепций, в которых используется сущность, и роль сущности в этой концепции. Например: Концепция Х - помывка слона.
 
+++Версии
* todo.глоссарий.форма: Создайте новую страницу для версии описания сущности, добавив к имени "Версия0". Так осуществляется поддержка версий страниц глоссария. 

+++Обязанности
* Создать ссылку - ЗначениеБезСсылок.
* Создать ссылку по ИдентификаторЭлемента, НазваниеЭлемента.
* Создать ссылку по ИдентификаторЭлемента, НазваниеЭлемента, Префиксу ссылки.
* Создать ссылку по ИдентификаторЭлемента, НазваниеЭлемента, Префиксу ссылки, Аргументам ссылки
* Создать ссылку из текста ссылки.
* Инициализировать статические данные класса ссылки.
* Получить строковое представление ссылки
* Получить строковое представление ссылки, ограниченное длиной 255 символов.
* Превратить НазваниеЭлемента в правильное описание ссылки
* Получить префикс ссылки
* Получить ИдентификаторЭлемента ссылки
* Получить аргументы ссылки как словарь ключ-значение.  
* Убедиться, что текст - правильная ссылка
* Убедиться, что текст - ЗначениеБезСсылок.
* Получить объект ссылки
* Установить объект ссылки
* 
+++Сущности предметной области
* todo.глоссарий.форма: Перечислите выявленные сущности предметной области здесь.
* 

+++Соответствующий класс кода
 * UAMX-2.ElementLink
++++Свойства - данные
++++Методы

+++Дополнительная информация 
* Применяются для идентификации (ссылка на ) различных Сущностей. Ранее для этого использовалось веб-имя УАМХ-1. Но от него решено было отказаться, так как слишком долго набирать ссылку, они часто повторялись или были слишком длинные.
* В состав сылки можно включить НазваниеЭлемента, чтобы пользователь по тексту ссылки понимал, на что она указывает.
Поэтому ссылки бывают короткие, без описания, и длинные, содержащие описание.
    * Нет ограничений на собственно исходное название элемента. Но потом оно будет переработано для использования в ссылке.
* В состав ссылки можно включить другие аргументы. Но эта возможность отложена на будущее.
Поэтому ссылки бывают с аргументами и без аргументов.
* Ссылки вида file:/// на Сущность, возможно, смогут работать, если они ссылаются на ФайлНастроекХранилища, открываемый БраузерХранилища через ассоциацию расширения файла. И даже параметры можно будет передавать туда, как в Википаде.
* Длина ссылки не должна превосходить 255 символов (максмальная длина поля БД). Но визуально это много. Для длинных ссылок можно весь текст ссылки заключать в квадратные скобки, чтобы обозначить, где ссылка кончается.
    * Это ограничение только из-за БД. 
    * Можно ссылки обрезать непосредственно перед записью их в БД. 
        * Можно сделать функцию объекта ссылки - получить ссылку с обрезкой до 255 символов. Ее и использовать при записи ссылок в БД. 
* СсылкаНаЭлемент могут передаваться приложениям как аргументы командной строки или как сетевой путь к файлу. Поэтому они не должны содержать некоторые символы. 
* Поскольку СсылкаНаЭлемент будет классом, используемым в разных ДвижокХранилища, у нее будут разные стандартные префиксы. 
    * Эти префиксы должны храниться в НастройкиХранилища. И загружаться оттуда в статическую переменную класса СсылкаНаЭлемент при открытии Хранилища Движком.
    * То же нужно для ИдентификаторЭлемента - так как он должен начинаться с буквы, то и ее нужно загружать таким же образом и в это же время.
    * Нужна функция (один из конструкторов класса), позволяющая явно задавать префикс ссылки при ее создании.
* Редактирование ссылки не предполагается. Она или создается из россыпи свойств, или читается по свойствам. 

++++Описание формата ссылки
 * Формат ссылки: 
    * Короткая ссылка: префикс:///идентификаторЭлемента
    * Длинная ссылка: префикс:///идентификаторЭлемента_Название_элемента
    * Короткая ссылка с аргументами: префикс:///идентификаторЭлемента?arg1=value1&arg2=Слон
    * Длинная ссылка с аргументами: префикс:///идентификаторЭлемента_Название_элемента?arg1=value1&arg2=Слон
 * Символы, которые не должны встречаться в частях ссылки: пробел, \/?;:@&=+$,<>"#{}|^[]`% и \n \t \r
 * Идентификатор элемента должен начинаться с латинской буквы.
 * префикс должен начинаться с латинской буквы, может содержать только латинские буквы и цифры и иметь не менее 3 символов.
 * идентификатор элемента и название элемента должно разделяться одним подчеркиванием.
 * Если название элемента содержит пробелы, их надо заменить на подчеркивания. Это сохранит читаемость названия элемента.
    * Остальные нежелательные символы следует заменять на дефисы (-) 
 * Аргументы в ссылке сейчас не поддерживаются, но в будущем возможна их поддержка.
 * Хотя схема позволяет указать хост (префикс://хост/идентификаторЭлемента), но хост сейчас не используется и вряд ли пригодится. Хост - это имя или IP-адрес компьютера в сети, на котором надо искать элемент.
 * Название элемента берется как собственно название элемента, но в нем надо заменить недопустимые символы.
    * Обратное восстановление текста не требуется, но важно сохранить читаемость названия для пользователя. 
 * Длина ссылки не должна быть более 255 символов. Это ограничение из БД.
    * Обрезать можно содержимое поля Название_элемента, так как оно не существенно для работы механизма ссылок, а нужно лишь для понимания пользователя.
    * Расчет обрезки: 255 - (длина(префикс) + 4(:///) + длина(идентификаторЭлемента)+ 1(_) + 1(?) + длина(строка аргументов в сборе) ) 
 
++++Ссылка через ярлык
 * Для ЯрлыкЭлемента.
Это ссылка вида (максимально много деталей) префикс:///идентификаторЭлемента_Название_элемента?arg1=value1&arg2=Слон
Она работает так:
 * будет вызвано приложение, ассоциированное с префиксом, и ему будет передана вся ссылка как единственный аргумент.
 * приложение должно распарсить ссылку и извлечь из нее все, что нужно.
Остальные варианты я пробовал, они не работают в Виндовс ХР. 
 * file:///C:/Temp/clv.exe?task://p123456%20Задача%20Название%20задачи
    * Приложение вызывается, но ему ничего не передается.

++++Использование в концепции УАМХ
* используется в КлассЭлемента, КатегорияЭлемента, КонтейнерЭлемента, [УамхЭлемент] как часть концепции УАМХ.
    * Представляет ссылку на текущий элемент карточки элемента или родительский элемент. 
    * Достаточно простое и линейное применение.
* БД
    * Представляет ссылки на связанные Элементы, КлассЭлемента, КатегорияЭлемента, КонтейнерЭлемента.
    * Входит в КоллекцияСсылокНаЭлементы как элемент коллекции.
    * Длина строки ссылки не более 255 символов!
* Нужны [СсылкаНаЭлемент] извне на Элементы 
    * Я хочу ссылаться из [ВикиПроекта] на Элементы Хранилища.
    * Я хочу использовать также ссылки в ЯрлыкЭлемента.
* Префиксы веб-подобных [СсылкаНаЭлемент]и на [КарточкаЭлемента] были назначены в Проекте Органайзер УАМХ.
    * Но цифровые префиксы решено отменить, так как я не смогу их запомнить и пользоваться ими поэтому. 
* СсылкаНаЭлемент могут передаваться приложениям как аргументы командной строки. Нужны ограничения на формат ссылки.
* СсылкаНаЭлемент могут передаваться приложениям как сетевой путь к файлу. Нужны ограничения на формат ссылки. 

+++Материалы

